{% extends "base.html" %}
{% load cms_tags staticfiles sekizai_tags i18n %}
{% load render_bundle from webpack_loader %}

{% block title %}{% page_attribute "page_title" %}{% endblock title %}

{% block content %}
<div id='app'>

<cms-page inline-template>
  <vue-layout>
    <div slot="menu">
      {% show_menu 0 100 100 100 %}
    </div>
    {% placeholder "content" %}
    {% with 'nl fr en de' as al %}
      {% for l in al.split %}
        <p>l: {{ l }}</p>
        <v-card v-show="showTranslated == '{{ l }}'">
          <v-card-text>
            <div slot="translated-page">
              {% render_placeholder "content" language '{{ l }}' %}
          </div>
          </v-card-text>
        </v-card>
      {% endfor %}
    {% endwith %}
</vue-layout>
</cms-page>

</div>

{% addtoblock "js" %}

<script>
  var _t = {
  {%  for key, value in translations.items %}
    '{{ key}}': '{{ value }}',
  {% endfor %}
  };
</script>

{% if PRODUCTION %}
  {% render_bundle 'manifest' %}
  {% render_bundle 'vendor' %}
{% endif %}
{% render_bundle 'cms' %}
{% endaddtoblock %}

{% endblock content %}

